<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Contains joints."><title>theseeker_engine::prelude::joints - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="theseeker_engine" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0 (79e9716c9 2023-11-13)" data-channel="1.74.0" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../theseeker_engine/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../../theseeker_engine/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module joints</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">theseeker_engine</a>::<wbr><a href="../index.html">prelude</a>::<wbr><a class="mod" href="#">joints</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/bevy_xpbd_2d/constraints/mod.rs.html#197">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Contains joints.</p>
<p><strong>Joints</strong> are a way to connect entities in a way that restricts their movement relative to each other.
They act as <a href="../../../bevy_xpbd_2d/constraints/index.html" title="mod bevy_xpbd_2d::constraints">constraints</a> that restrict different <em>Degrees Of Freedom</em> depending on the joint type.</p>
<h3 id="degrees-of-freedom-dof"><a href="#degrees-of-freedom-dof">Degrees Of Freedom (DOF)</a></h3>
<p>In 3D, entities can normally translate and rotate along the <code>X</code>, <code>Y</code> and <code>Z</code> axes.
Therefore, they have 3 translational DOF and 3 rotational DOF, which is a total of 6 DOF.</p>
<p>Joints reduce the number of DOF that entities have. For example, <a href="../struct.RevoluteJoint.html" title="struct theseeker_engine::prelude::RevoluteJoint">revolute joints</a>
only allow rotation around one axis.</p>
<p>Below is a table containing the joints that are currently implemented.</p>
<div><table><thead><tr><th>Joint</th><th>Allowed 2D DOF</th><th>Allowed 3D DOF</th></tr></thead><tbody>
<tr><td><a href="../struct.FixedJoint.html" title="struct theseeker_engine::prelude::FixedJoint"><code>FixedJoint</code></a></td><td>None</td><td>None</td></tr>
<tr><td><a href="../struct.PrismaticJoint.html" title="struct theseeker_engine::prelude::PrismaticJoint"><code>PrismaticJoint</code></a></td><td>1 Translation</td><td>1 Translation</td></tr>
<tr><td><a href="../struct.RevoluteJoint.html" title="struct theseeker_engine::prelude::RevoluteJoint"><code>RevoluteJoint</code></a></td><td>1 Rotation</td><td>1 Rotation</td></tr>
<tr><td><a href="../struct.SphericalJoint.html" title="struct theseeker_engine::prelude::SphericalJoint"><code>SphericalJoint</code></a></td><td>1 Rotation</td><td>3 Rotations</td></tr>
</tbody></table>
</div><h3 id="using-joints"><a href="#using-joints">Using joints</a></h3>
<p>In Bevy XPBD, joints are modeled as components. You can create a joint by simply spawning
an entity and adding the joint component you want, giving the connected entities as arguments
to the <code>new</code> method.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">fn </span>setup(<span class="kw-2">mut </span>commands: Commands) {
    <span class="kw">let </span>entity1 = commands.spawn(RigidBody::Dynamic).id();
    <span class="kw">let </span>entity2 = commands.spawn(RigidBody::Dynamic).id();
     
    <span class="comment">// Connect the bodies with a fixed joint
    </span>commands.spawn(FixedJoint::new(entity1, entity2));
}</code></pre></div>
<h4 id="stiffness"><a href="#stiffness">Stiffness</a></h4>
<p>You can control the stiffness of a joint with the <code>with_compliance</code> method.
<em>Compliance</em> refers to the inverse of stiffness, so using a compliance of 0 corresponds to
infinite stiffness.</p>
<h4 id="attachment-positions"><a href="#attachment-positions">Attachment positions</a></h4>
<p>By default, joints are connected to the centers of entities, but attachment positions can be used to change this.</p>
<p>You can use <code>with_local_anchor_1</code> and <code>with_local_anchor_2</code> to set the attachment positions on the first
and second entity respectively.</p>
<h4 id="damping"><a href="#damping">Damping</a></h4>
<p>You can configure the linear and angular damping caused by joints using the <code>with_linear_velocity_damping</code> and
<code>with_angular_velocity_damping</code> methods. Increasing the damping values will cause the velocities
of the connected entities to decrease faster.</p>
<h4 id="other-configuration"><a href="#other-configuration">Other configuration</a></h4>
<p>Different joints may have different configuration options. Many joints allow you to change the axis of allowed
translation or rotation, and they may have distance or angle limits along these axes.</p>
<p>Take a look at the documentation and methods of each joint to see all of the configuration options.</p>
<h3 id="custom-joints"><a href="#custom-joints">Custom joints</a></h3>
<p>Joints are <a href="../../../bevy_xpbd_2d/constraints/index.html" title="mod bevy_xpbd_2d::constraints">constraints</a> that implement <a href="trait.Joint.html" title="trait theseeker_engine::prelude::joints::Joint"><code>Joint</code></a> and <a href="../trait.XpbdConstraint.html" title="trait theseeker_engine::prelude::XpbdConstraint"><code>XpbdConstraint</code></a>.</p>
<p>The process of creating a joint is essentially the same as <a href="../../../bevy_xpbd_2d/constraints/index.html#custom-constraints" title="mod bevy_xpbd_2d::constraints">creating a constraint</a>,
except you should also implement the <a href="trait.Joint.html" title="trait theseeker_engine::prelude::joints::Joint"><code>Joint</code></a> trait’s methods. The trait has some useful helper methods
like <code>align_position</code> and <code>align_orientation</code> to reduce some common boilerplate.</p>
<p>Many joints also have joint limits. You can use <a href="../struct.DistanceLimit.html" title="struct theseeker_engine::prelude::DistanceLimit"><code>DistanceLimit</code></a> and <a href="../struct.AngleLimit.html" title="struct theseeker_engine::prelude::AngleLimit"><code>AngleLimit</code></a> to help store these limits
and to compute the current distance from the specified limits.</p>
<p><a href="https://github.com/Jondolf/bevy_xpbd/tree/main/src/constraints/joints">See the code implementations</a>
of the implemented joints to get a better idea of how to create joints.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AngleLimit.html" title="struct theseeker_engine::prelude::joints::AngleLimit">AngleLimit</a></div><div class="desc docblock-short">A limit that indicates that angles should be between <code>alpha</code> and <code>beta</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.DistanceLimit.html" title="struct theseeker_engine::prelude::joints::DistanceLimit">DistanceLimit</a></div><div class="desc docblock-short">A limit that indicates that the distance between two points should be between <code>min</code> and <code>max</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.FixedJoint.html" title="struct theseeker_engine::prelude::joints::FixedJoint">FixedJoint</a></div><div class="desc docblock-short">A fixed joint prevents any relative movement of the attached bodies.</div></li><li><div class="item-name"><a class="struct" href="struct.PrismaticJoint.html" title="struct theseeker_engine::prelude::joints::PrismaticJoint">PrismaticJoint</a></div><div class="desc docblock-short">A prismatic joint prevents relative movement of the attached bodies, except for translation along one <code>free_axis</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.RevoluteJoint.html" title="struct theseeker_engine::prelude::joints::RevoluteJoint">RevoluteJoint</a></div><div class="desc docblock-short">A revolute joint prevents relative movement of the attached bodies, except for rotation around one <code>aligned_axis</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.SphericalJoint.html" title="struct theseeker_engine::prelude::joints::SphericalJoint">SphericalJoint</a></div><div class="desc docblock-short">A spherical joint prevents relative translation of the attached bodies while allowing rotation around all axes.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Joint.html" title="trait theseeker_engine::prelude::joints::Joint">Joint</a></div><div class="desc docblock-short">A trait for <a href="index.html" title="mod theseeker_engine::prelude::joints">joints</a>.</div></li></ul></section></div></main></body></html>